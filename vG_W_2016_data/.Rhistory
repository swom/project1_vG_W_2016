cd<-getwd()
setwd(cd)
cd<-getwd()
setwd(cd/"ngi_test")
cd<-getwd()
setwd(cd)
#loop through all created folders
folders<-dir(pattern= "lol_ngi_simplified_complete$")
plot(3 * n * (n + 1))
n = 1:7
plot(3 * n * (n + 1))
plot(3 * n * (n - 1) + 1)
n = 1:7
f1 <- 3 * n * (n + 1)
f2 <- 3 * n * (n - 1) + 1
f1
f2
n = 1:7
f1 <- 3 * n * (n + 1)
f2 <- 3 * n * (n - 1)
f1
f2
remove.packages("rstan")
if (file.exists(".RData")) file.remove(".RData")
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
pkgbuild::has_build_tools(debug = TRUE)
devtools::install_github("rmcelreath/rethinking")
install.packages("devtools")
devtools::install_github("rmcelreath/rethinking")
remove.packages("rethinking")
devtools::install_github("rmcelreath/rethinking")
remove.packages("backports")
remove.packages(backports)
install.packages("backports")
devtools::install_github("rmcelreath/rethinking")
remove.packages("rstan")
if (file.exists(".RData")) file.remove(".RData")
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
p_grid <- seq( from=0 , to=1 , length.out=1000 )
p_grid <- seq( from=0 , to=1 , length.out=1000 )
pkgbuild::has_build_tools(debug = TRUE)
install.packages(c("coda","mvtnorm","devtools","dagitty"))
install.packages(c("coda", "mvtnorm", "devtools", "dagitty"))
library(devtools)
devtools::install_github("rmcelreath/rethinking")
devtools::install_github("rmcelreath/rethinking")
install.packages("ps")
install.packages("ps")
devtools::install_github("rmcelreath/rethinking")
install.packages(c("coda","mvtnorm","devtools","dagitty"))
library(devtools)
devtools::install_github("rmcelreath/rethinking")
library(tidyr)
library(dplyr)
library(stringr)
library(rgl)
library(misc3d)
library(tidyr)
library(dplyr)
library(stringr)
library(rgl)
library(misc3d)
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "blue50")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
reac_norm$col = ifelse(reac_norm$V4 == 0, blue,transparent)
small_reac_norm = reac_norm[ as.numeric(row.names(reac_norm)) %% 2 == 0,]
load("all_reac_norms.R")
setwd("X:/project1_vG_W_2016/vG_W_2016_data")
library(plotly)
load("all_reac_norms.R")
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "blue50")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
reac_norm$col = ifelse(reac_norm$V4 == 0, blue,transparent)
small_reac_norm = reac_norm[ as.numeric(row.names(reac_norm)) %% 2 == 0,]
library(plotly)
axx <- list(
nticks = 4,
range = c(0,20)
)
axy <- list(
nticks = 4,
range = c(0,20)
)
axz <- list(
nticks = 4,
range = c(0,20)
)
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, alpha = 0.5)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1)
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1),
x = ~V1, y = ~V2, z = ~V3)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
all_reac_norms %>% subset(seed == 1 & change == 1 )
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(white, blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "blue50")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
reac_norm$col = ifelse(reac_norm$V4 == 0, blue,transparent)
small_reac_norm = reac_norm[ as.numeric(row.names(reac_norm)) %% 2 == 0,]
library(plotly)
all_reac_norm$col = ifelse(reac_norm$V4 == 0, blue,transparent)
all_reac_norm$col = ifelse( all_reac_norm$V4 == 0, blue,transparent)
all_reac_norm$col = ifelse( all_reac_norm$V4 == 0, blue,transparent)
small_reac_norm = reac_norm[ as.numeric(row.names(reac_norm)) %% 2 == 0,]
all_reac_norm$col = ifelse( all_reac_norm$V4 == 0, blue,transparent)
load("all_reac_norms.R")
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "blue50")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
all_reac_norms$col = ifelse( all_reac_norms$V4 == 0, blue,transparent)
small_reac_norm = all_reac_norms[ as.numeric(row.names(all_reac_norms)) %% 2 == 0,]
library(plotly)
axx <- list(
nticks = 4,
range = c(0,20)
)
axy <- list(
nticks = 4,
range = c(0,20)
)
axz <- list(
nticks = 4,
range = c(0,20)
)
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
fig <- plot_ly(all_reac_norms %>% subset(seed == 1 & change == 1 ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(transparent,blue), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
all_reac_norms %>% subset(seed == i & change == j)
levels(all_reac_norms$col)
reac_norm$col = as.factor(ifelse(reac_norm$V4 == 0, blue,transparent))
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "blue50")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
all_reac_norms$col = as.factor(ifelse(all_reac_norms$V4 == 0, blue,transparent))
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j),
x = ~V1, y = ~V2, z = ~V3, color = ~col, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "t")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
all_reac_norms$col = as.factor(ifelse(all_reac_norms$V4 == 0, blue,transparent))
all_reac_norms = all_reac_norms[ as.numeric(row.names(all_reac_norms)) %% 2 == 0,]
library(plotly)
axx <- list(
nticks = 4,
range = c(0,20)
)
axy <- list(
nticks = 4,
range = c(0,20)
)
axz <- list(
nticks = 4,
range = c(0,20)
)
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j),
x = ~V1, y = ~V2, z = ~V3, color = ~col, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
#Making colors for graph
transparent <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "t")
blue <- rgb(0, 0, 255, max = 255, alpha = 0, names = "o")
all_reac_norms$col = as.factor(ifelse(all_reac_norms$V4 == 0, blue,transparent))
all_reac_norms = all_reac_norms[ as.numeric(row.names(all_reac_norms)) %% 2 == 0,]
library(plotly)
axx <- list(
nticks = 4,
range = c(0,20)
)
axy <- list(
nticks = 4,
range = c(0,20)
)
axz <- list(
nticks = 4,
range = c(0,20)
)
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j),
x = ~V1, y = ~V2, z = ~V3, color = ~col, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
levels(all_reac_norms$col)
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~col, colors = levels(all_reac_norms$col), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
#Making colors for graph
green <- rgb( 0, 255, 0, max = 255, alpha = 0.5, names = "t")
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j & V4 == 1),
x = ~V1, y = ~V2, z = ~V3, color = ~col, colors = c(blue,green), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title = paste("RN_",i,"_",j, sep = "")
)
fig <- fig %>% add_markers()
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <- plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title = paste("RN_",i,"_",j, sep = "")
)
fig <- fig %>% add_markers()
fig <- fig %>% layout(title3d(paste("RN_",i,"_",j, sep = "")))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
library(plotly)
fig <- scatter3D(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title.text = paste("RN_",i,"_",j, sep = "")
)
fig <- scatter3d(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title.text = paste("RN_",i,"_",j, sep = "")
)
fig <- scatter3d(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title.text = paste("RN_",i,"_",j, sep = "")
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
title.text = paste("RN_",i,"_",j, sep = "")
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
)
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
export(fig, paste("RN_",i,"_",j,".png", sep = ""))
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
orca(fig, paste("RN_",i,"_",j,".pdf", sep = ""))
}
}
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
orca(fig, paste("RN_",i,"_",j,".pdf", sep = ""))
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <-scatter3d(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1,
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
for (i in levels(all_reac_norms$seed)) {
for (j in levels(all_reac_norms$change)) {
fig <-plot_ly(all_reac_norms %>% subset(seed == i & change == j ),
x = ~V1, y = ~V2, z = ~V3, color = ~V4, colors = c(blue,green), alpha = 0.1
)
fig <- fig %>% layout(title = paste("RN_",i,"_",j, sep = ""))
fig <- fig %>% layout(scene = list(xaxis = list(title = 'Energy'),
yaxis = list(title = 'Food'),
zaxis = list(title = 'Metabolite')))
fig <- fig %>% layout(scene = list(xaxis=axx,yaxis=axy,zaxis=axz))
fig
htmlwidgets::saveWidget(fig, paste("RN_",i,"_",j,".html", sep = ""))
}
}
